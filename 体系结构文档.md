# 软件体系结构文档

## 文档修改历史

| 修改人员 | 日期      | 修改原因                                             | 版本号 |
| :------: | --------- | ---------------------------------------------------- | ------ |
|  冯波云  | 2020/4/24 | 添加了引言，产品概述和逻辑视图                       | v1.0   |
|  冯波云  | 2020/4/25 | 添加了目录                                           | v1.1   |
|  蒋祚竑  | 2020/4/25 | 完成了架构设计和信息视角                             | v2.0   |
|  陈峙宇  | 2020/4/25 | 完成了组合视图                                       | v3.0   |
|  陈峙宇  | 2020/6/26 | 更新了managehotel、roomservice、roommapper的接口规范 | v3.1   |
|  冯波云  | 2020/6/29 | 更新了couponservice、couponmapper的接口规范          | v3.2   |
|  冯波云  | 2020/7/02 | 更新了orderService、orderMapper                      | v3.3   |
|  陈峙宇  | 2020/7/03 | 更新了所有新增的接口规范，更新了信息视角             | v4.0   |

## 目录

[toc]

## 1.引言

### 1.1编制目的

本报告详细完成对互联网酒店预定系统的概要设计，达到指导详细设计和开发的目的，同时实现和测试人员及用户的沟通。

本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。

### 1.2词汇表

|  词汇名称  | 词汇含义                                                     | 备注 |
| :--------: | ------------------------------------------------------------ | ---- |
| 数据持久化 | 即把数据（如内存中的对象）保存到可永久保存的存储设备中（如磁盘）。持久化的主要应用是将内存中的对象存储在数据库中，或者存储在磁盘文件中、XML数据文件中等等。 | ……   |
|    模块    | 整个系统中一些相对对独立的程序单元，每个程序单元完成和实现一个相对独立的软件功能 | ……   |
|   开发包   | 具有特定的功能，用来完成特定任务的一个程序或一组程序         | ……   |
|    API     | Application Programming Interface，应用程序接口              | ……   |
|   客户端   | 与服务器相对应，为客户提供本地服务的程序                     | ……   |
|   服务端   | 服务端是为客户端服务的，服务的内容诸如向客户端提供资源，保存客户端数据。 | ……   |



### 1.3 参考资料

1.《软件工程与计算(卷二)软件开发的技术基础》————主编：骆斌 编著：刘钦、丁二玉。

2.互联网酒店预订系统用例文档V1.0。

## 2. 产品概述

参考互联网酒店预定系统用例文档和互联网酒店预定系统软件需求规格说明中对产品的概括描述。

## 3. 逻辑视图

互联网酒店预定系统中，选择了分层体系结构风格，将系统分为三层(展示层，业务逻辑层，数据层)能够很好的示意整个高层抽象。展示层包含网页页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的逻辑视角和逻辑设计方案见下图。

- 处理静态设计模型

  - 描述并绘制设计方案、逻辑表达
- 示意图

  - 注意：逻辑表达需要更加细化

![a ](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/%E9%80%BB%E8%BE%91%E8%A7%86%E8%A7%92.jpg)

​															图1 参照体系结构风格的包图表达逻辑视角

![](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88.png)

​															图2 软件体系结构逻辑设计方案



## 4. 组合视图

### 4.1 开发包图

- 表示软件组件在开发时环境中的静态组织
  - 描述开发包以及相互间的依赖
  - 绘制开发包图

|       开发包       | 依赖的其他开发包                                             |
| :----------------: | ------------------------------------------------------------ |
|     bl.comment     | po,vo                                                        |
|      bl.admin      | po, vo                                                       |
|     bl.coupon      | po, vo                                                       |
|      bl.hotel      | po, back.util, vo                                            |
|      bl.order      | po, vo                                                       |
|      bl.user       | po, vo                                                       |
|   blImpl.comment   | bl.hotel, bl.order,po,vo,springframework,back.util           |
|    blImpl.admin    | bl.admin, data.admin, enums, po, vo, springframework         |
|   blImpl.coupon    | bl.coupon, data.coupon, po, vo, springframework              |
|    blImpl.hotel    | bl.hotel, bl.order, bl.user, data.hotel,  back.util, enums, po, vo, springframework |
|    blImpl.order    | bl.hotel, bl.order, bl.user, data.order, po, vo, springframework |
|    blImpl.user     | bl.user, data.user, po, vo, springframework                  |
| controller.comment | bl.comment,vo,springframwork                                 |
|  controller.admin  | bl.admin, vo, springframework                                |
| controller.coupon  | bl.coupon,  vo, springframework                              |
|  controller.hotel  | bl.hotel, back.util, vo, springframework                     |
|  controller.order  | bl.order, vo, springframework                                |
|  controller.user   | bl.user, vo, springframework                                 |
|    data.comment    | po,springframework,apache                                    |
|     data.admin     | po, springframework, apache                                  |
|    data.coupon     | po, springframework, apache                                  |
|     data.hotel     | po, springframework, apache                                  |
|     data.order     | po, springframework, apache                                  |
|     data.user      | po, springframework, apache                                  |
|  dataImpl.comment  | data.comment                                                 |
|   dataImpl.admin   | data.admin                                                   |
|  dataImpl.coupon   | data.coupon                                                  |
|   dataImpl.order   | data.order                                                   |
|   dataImpl.hotel   | data.hotel                                                   |
|   dataImpl.user    | data.user                                                    |
|       enums        |                                                              |
|         po         |                                                              |
|         vo         |                                                              |
|     back.util      | springframework                                              |
|       apache       |                                                              |
|  springframework   |                                                              |
|        api         | controller,front.util                                        |
|       store        | api, vue                                                     |
|       router       | vue, vue-router                                              |
|       views        | store, vue, router, components                               |
|     components     | vue, store                                                   |
|     front.util     | vue                                                          |
|        vue         |                                                              |
|     vue-router     |                                                              |

![Server](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%96%87%E6%A1%A3/%E5%90%8E%E7%AB%AF%28%E6%9C%8D%E5%8A%A1%E7%AB%AF%29.png)

​			                                                                 服务端开发包图

![Client](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF%28%E5%AE%A2%E6%88%B7%E7%AB%AF%29.jpg)

​                                                                             客户端开发包图

### 4.2 运行时进程

- 表示软件在运行时进程间的交互，描述系统的动态结构

  - 绘制进程图

- 示意图：![Runtime process](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%96%87%E6%A1%A3/%E8%BF%90%E8%A1%8C%E6%97%B6%E8%BF%9B%E7%A8%8B.jpg)


### 4.3 物理部署

- 处理如何将软件组件映射到硬件基础设施
  - 绘制部署图
- 示意图

![deplacement](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%96%87%E6%A1%A3/%E7%89%A9%E7%90%86%E9%83%A8%E7%BD%B2.png)

## 5. 架构设计

本酒店预订系统采用web三层架构设计，整个系统划分为展示层、业务逻辑层、数据层。每一层只使用下方直接接触的层，层与层之间的交互是通过接口的调用来完成的。系统采用B/S结构，展示层在浏览器上，系统功能的实现集中在服务器。

### 5.1 模块职责

- 模块视图![Moduels](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/moduel_perspect.png)

  

- 各层职责

  ​																	   客户端各层职责

|      层      |                             职责                             |
| :----------: | :----------------------------------------------------------: |
| 客户端展示层 | 基于web的酒店预订客户端用户界面，并通过restAPI调用业务逻辑层以响应用户输入 |
|   网络模块   |                      使用http与后端通信                      |

​																		       服务器端各层职责

|     层     |                             职责                             |
| :--------: | :----------------------------------------------------------: |
|  启动模块  |          通过SpringApplication.run()实现自动初始化           |
|   数据层   |          负责数据初始化以及提供数据访问、修改的接口          |
| 业务逻辑层 |              根据业务逻辑处理数据并反馈处理结果              |
|  网络模块  | 接收到客户端request后通过RestController根据客户端请求调用业务逻辑层的服务并将处理结果反馈给客户端 |

#### 															层之间调用接口

| 接口                                                         | 服务调用方 | 服务提供方 |
| :----------------------------------------------------------- | :--------: | :--------: |
| CommentService<br/>AdminService<br />CouponService<br />CouponMatchStrategy<br />HotelService<br />RoomService<br />OrderService<br />AccountService |   展示层   | 业务逻辑层 |
| CommentMapper<br/>AdminMapper<br />CouponMapper<br />HotelMapper<br />RoomMapper<br />OrderMapper<br />AccountMapper | 业务逻辑层 |   数据层   |



### 5.2 用户界面层分解

根据需求，系统存在登录界面、客户首页、酒店管理人员首页、网站管理人员首页、个人中心界面、个人信息界面、酒店管理界面、账户管理界面、酒店详细信息显示界面、添加酒店管理人员界面、预订界面、查看订单界面、订单管理界面、添加优惠策略界面、添加酒店界面、添加房间界面、优惠券查看界面，界面跳转如图所示。

![](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/UIjump.png)

#### 5.2.1 职责

| 模块        | 职责                     |
| ----------- | ------------------------ |
| login       | 负责显示登录界面         |
| header      | 负责根据用户类型显示首页 |
| hotelList   | 负责列表显示酒店         |
| hotelDetail | 负责显示酒店详细信息     |
| manageUser  | 负责管理酒店工作人员账户 |
| manageHotel | 负责管理酒店信息         |
| info        | 负责管理个人信息         |



- **类图**

  ![UIclass](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/UIclass.png)

  

#### 5.2.2接口规范

##### 									manageUser的接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">addManager</td>
      <td>语法</td>
      <td>addManager()</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以管理员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新管理员列表并刷新</td>
   </tr>
     <tr>
      <td rowspan="3">addHotel</td>
      <td>语法</td>
      <td>addHotel()</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以管理员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新酒店列表并刷新</td>
   </tr>
   <tr>
      <td rowspan="3">setHotelManager</td>
      <td>语法</td>
      <td>setHotelManager()</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以管理员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新管理员信息并刷新</td>
   </tr>
     <tr>
      <td rowspan="3">deleteHotel</td>
      <td>语法</td>
      <td>deleteHotel(record)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以管理员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新订单信息并刷新</td>
   </tr>
   <tr>
      <td colspan="3">需要的服务(需接口）</td>
   </tr>
   <tr>
      <td>服务名</td>
      <td colspan="2">服务</td>
   </tr>
   <tr>
      <td>AdminService.addManager</td>
      <td colspan="2">向数据库User表中插入新管理人员的数据</td>
   </tr>
    <tr>
      <td>HotelService.deleteHotel</td>
      <td colspan="2">在数据库hotel表中删除指定酒店的数据</td>
   </tr>
    <tr>
      <td>HotelService.updateHotelInfo</td>
      <td colspan="2">在数据库hotel表中更新指定酒店的数据</td>
   </tr>
    <tr>
      <td>HotelService.addHotel</td>
      <td colspan="2">在数据库hotel表中插入新酒店的数据</td>
   </tr>
    </table>




  ##### 									 hotelList的接口规范

  <table>
     <tr>
        <td colspan="3">提供的服务（供接口）</td>
     </tr>
     <tr>
        <td rowspan="3">pageChange</td>
        <td>语法</td>
        <td>pageChange(page,pageSize)</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>更新酒店列表显示</td>
     </tr>
     <tr>
        <td rowspan="3">jumpToDetails</td>
        <td>语法</td>
        <td>jumpToDetails(id)</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>显示酒店细节</td>
     </tr>
      <tr>
        <td rowspan="3">addOrder</td>
        <td>语法</td>
        <td>addOrder(data)</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>更新订单信息并刷新</td>
     </tr>
       <tr>
        <td rowspan="3">getMyOrderedHotelList</td>
        <td>语法</td>
        <td>getMyOrderedHotelList()</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
         <td></td>
     </tr>
      <tr>
        <td rowspan="3">getUserThisHotelOrders</td>
        <td>语法</td>
          <td>getUserThisHotelOrders()</td>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td></td>
     </tr>
     <tr>
        <td rowspan="3">getHotelList</td>
        <td>语法</td>
         <td>getHotelList()</td>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
         <td></td>
     </tr>
     <tr>
        <td colspan="3">需要的服务(需接口）</td>
     </tr>
     <tr>
        <td>服务名</td>
        <td colspan="2">服务</td>
     </tr>
     <tr>
        <td>HotelService.retrieveHotels</td>
        <td colspan="2">列表获取酒店信息</td>
     </tr>
     <tr>
        <td>HotelService.retrieveHotelDetails</td>
        <td colspan="2">获取某家酒店详细信息</td>
     </tr>
     <tr>
        <td>OrderService.getUserThisHotelOrders</td>
        <td colspan="2">获取指定酒店指定顾客的所有订单</td>
     </tr>
     <tr>
        <td>OrderService.retrieveUserOrders</td>
        <td colspan="2">获取指定顾客的所有订单</td>
     </tr>
     <tr>
        <td>OrderService.addOrders</td>
        <td colspan="2">往数据库中插入新的订单</td>
     </tr>
  </table>



  ##### 									header的接口规范

  <table>
     <tr>
        <td colspan="3">提供的服务（供接口）</td>
     </tr>
     <tr>
        <td rowspan="3">selectMenu</td>
        <td>语法</td>
        <td>selectMenu(v)</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>跳转到所选页面</td>
     </tr>
     <tr>
        <td rowspan="3">jumpToHome</td>
        <td>语法</td>
        <td>jumpToHome()</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>跳转到首页</td>
     </tr>
     <tr>
        <td rowspan="3">jumpToUserInfo</td>
        <td>语法</td>
        <td>jumpToUserInfo</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>跳转到用户信息页面</td>
     </tr>
  </table>


  ##### 									manageHotel的接口规范

  <table>
     <tr>
        <td colspan="3">提供的服务（供接口）</td>
     </tr>
     <tr>
        <td rowspan="3">updateHotelInfo</td>
        <td>语法</td>
        <td>updateHotelInfo()</td>
     </tr>
     <tr>
        <td>前置条件</td>
         <td>以管理员身份登录</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>更新酒店信息并刷新</td>
     </tr>
     <tr>
        <td rowspan="3">getHotelListByManagerId</td>
        <td>语法</td>
        <td>getHotelListByManagerId()</td>
     </tr>
      <tr>
        <td>前置条件</td>
         <td></td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td></td>
     </tr>
      <tr>
        <td rowspan="3">getHotelById</td>
        <td>语法</td>
        <td>getHotelListByrId()</td>
     </tr>
     <tr>
        <td>前置条件</td>
         <td></td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td></td>
     </tr>
     <tr>
        <td rowspan="3">addRoom</td>
        <td>语法</td>
        <td>addRoom(record)</td>
     </tr>
     <tr>
        <td>前置条件</td>
         <td>以管理员身份登录</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>更新房间列表并刷新</td>
     </tr>
     <tr>
        <td rowspan="3">showCoupon</td>
        <td>语法</td>
        <td>showCoupon()</td>
     </tr>
     <tr>
        <td>前置条件</td>
        <td>以管理员身份登录</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>展示酒店优惠策略</td>
     </tr>
     <tr>
        <td rowspan="3">addHotelCoupon</td>
        <td>语法</td>
        <td>addHotelCoupon(data)</td>
     </tr>
     <tr>
        <td>前置条件</td>
        <td>以管理员身份登录</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>更新酒店优惠策略并刷新</td>
     </tr>
      <tr>
        <td rowspan="3">confirmCancelCoupon</td>
        <td>语法</td>
        <td>confirmCancelCoupon()</td>
     </tr>
     <tr>
        <td>前置条件</td>
        <td>以管理员身份登录</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>更新优惠策略并刷新</td>
     </tr>
     <tr>
        <td rowspan="3">deleteRoom</td>
        <td>语法</td>
        <td>deleteRoom(roomId)</td>
     </tr>
     <tr>
        <td>前置条件</td>
         <td>以管理员身份登录</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>更新房间列表并刷新</td>
     </tr>
	<tr>
      <td rowspan="3">editRoom</td>
      <td>语法</td>
      <td>edit(record)</td>
   </tr>
   <tr>
      <td>前置条件</td>
       <td>以管理员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新房间信息并刷新</td>
   </tr>
    <tr>
      <td rowspan="3">execute</td>
      <td>语法</td>
      <td>execute(record)</td>
   </tr>
   <tr>
      <td>前置条件</td>
       <td>以管理员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新订单信息并刷新</td>
   </tr>
     <tr>
        <td colspan="3">需要的服务(需接口）</td>
     </tr>
     <tr>
        <td>服务名</td>
        <td colspan="2">服务</td>
     </tr>
     <tr>
        <td>CouponService.getHotelAllcoupon</td>
        <td colspan="2">返回某个酒店提供的所有优惠策略</td>
     </tr>
      <tr>
        <td>CouponService.annualcoupon</td>
        <td colspan="2">调用数据层接口删除coupon对象</td>
     </tr>
      <tr>
        <td>CouponService.addHotelMultiRoomCoupon</td>
        <td colspan="2">调用数据层接口持久化类型为多间的coupon对象</td>
     </tr>
       <tr>
        <td>CouponService.addHotelTimeCoupon</td>
        <td colspan="2">调用数据层接口持久化类型为节促的coupon对象</td>
     </tr>
     <tr>
        <td>CouponService.addHotelTargetMoneyCoupon</td>
        <td colspan="2">调用数据层接口持久化类型为满减的coupon对象</td>
     </tr>
        <tr>
        <td>RoomService.insertRoomInfo</td>
        <td colspan="2">调用数据层接口将POJO hotelRoom持久化</td>
     </tr>
     <tr>
        <td>RoomService.editRoomInfo</td>
        <td colspan="2">调用数据层接口更新hotelroom对象信息</td>
     </tr>
     <tr>
        <td>RoomlService.deleteRoom</td>
        <td colspan="2">调用数据层接口删除hotelroom对象</td>
     </tr>
     <tr>
        <td>HotelService.retrieveHotelsByManagerId</td>
        <td colspan="2">返回管理员管理的所有hotel对象</td>
     </tr>
     <tr>
        <td>HotelService.updateHotelInfo</td>
        <td colspan="2">调用数据层接口更新hotel对象信息</td>
     </tr>
     <tr>
        <td>HotelService.getHotelById</td>
        <td colspan="2">返回指定酒店信息</td>
     </tr>
     <tr>
        <td>OrderService.executeOrder</td>
        <td colspan="2">调用数据层接口将Order对象OrderState字段设为已执行</td>
     </tr>
  </table>





  ##### 										      Info接口规范

  <table>
     <tr>
        <td colspan="3">提供的服务（供接口）</td>
     </tr>
     <tr>
        <td rowspan="3">saveModify</td>
        <td>语法</td>
        <td>saveModify()</td>
     </tr>
     <tr>
        <td>前置条件</td>
        <td>修改的字段符合字段格式要求</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>保存修改内容</td>
     </tr>
     <tr>
        <td rowspan="3">modifyInfo</td>
        <td>语法</td>
        <td>modifyInfo()</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>设置modify状态为true</td>
     </tr>
     <tr>
        <td rowspan="3">cancelModify</td>
        <td>语法</td>
        <td>cancelModify()</td>
     </tr>
     <tr>
        <td>前置条件</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>设置modifyz状态为false</td>
     </tr>
     <tr>
        <td rowspan="3">confirmCancelOrder</td>
        <td>语法</td>
        <td>confirmCancelOrer(orderId)</td>
     </tr>
     <tr>
        <td>前置条件</td>
        <td>客户选择撤销订单</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>撤销订单</td>
     </tr>
     <tr>
        <td rowspan="3">cancelCancelOrder</td>
        <td>语法</td>
        <td>cancelCancelOrder()</td>
     </tr>
     <tr>
        <td>前置条件</td>
        <td>客户选择撤销订单</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td>取消撤销订单</td>
     </tr>
     <tr>
        <td rowspan="3">addComment</td>
        <td>语法</td>
        <td>addComment(comment)</td>
     </tr>
     <tr>
        <td>前置条件</td>
        <td>订单已执行</td>
     </tr>
     <tr>
        <td>后置条件</td>
        <td></td>
     </tr>
     <tr>
        <td colspan="3">需要的服务(需接口）</td>
     </tr>
     <tr>
        <td>服务名</td>
        <td colspan="2">服务</td>
     </tr>
     <tr>
        <td>AccountService.updateUserInfo</td>
        <td colspan="2">调用数据层接口更新个人信息并返回ResponseVO</td>
     </tr>
     <tr>
        <td>OrderService.annulOrder</td>
        <td colspan="2">调用数据层接口撤销订单，更新客房信息并返回ResponseVO</td>
     </tr>
      <tr>
        <td>CommentService.addComment</td>
        <td colspan="2">调用数据层接口将comment对象持久化</td>
     </tr>
  </table>


### 5.3 业务逻辑层分解

业务逻辑层包括多个针对界面的业务逻辑处理的类及其实现。

#### 5.3.1 职责

职责如表所示

| 模块                           | 职责                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| CommentServiceImpl             | 负责实现评论展示界面所需要的业务                             |
| AdminServiceImpl               | 负责实现网站管理人员界面所需要的服务                         |
| CouponServiceImpl              | 负责实现添加、查看优惠策略界面所需要的服务                   |
| MutiRoomCouponStrategyImply    | 负责实现查看订单是否有可用优惠策略中多间特惠的匹配           |
| TargetMoneyCouponStrategyImply | 负责实现查看订单是否有可用优惠策略中满减优惠的匹配           |
| TimeCouponStrategyImply        | 负责实现查看订单是否有可用优惠策略中限时优惠的匹配           |
| HotelServiceImpl               | 负责实现酒店管理界面所需要的服务                             |
| RoomServiceImpl                | 负责实现酒店房间信息更新、新增房型、房间信息界面查看所需要的服务 |
| OrderServiceImpl               | 负责实现查看个人订单界面、酒店订单管理界面、预订酒店、撤销订单所需要的服务 |
| AccountServiceImpl             | 负责实现登录界面、个人信息管理界面需要的服务                 |



- ##### **类图**

<img src="https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/Blclass.png" alt="Blclass " style="zoom:100%"/>

#### 5.3.2 接口规范

##### CommentService接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">CommentService.addComment</td>
      <td>语法</td>
      <td>public ResponseVO addComment(CommentVO commentVO)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>用户订单已执行</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回添加结果</td>
   </tr>
   <tr>
      <td rowspan="3">CommentService.getHotelComments</td>
      <td>语法</td>
      <td>public List<Comment> getHotelComments</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td></td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回指定酒店评论列表</td>
   </tr>
     <tr>
      <td colspan="3">需要的服务(需接口）</td>
   </tr>
   <tr>
      <td>服务名</td>
      <td colspan="2">服务</td>
   </tr>
   <tr>
      <td >commentMapper.addComment(Comment comment)</td>
      <td colspan="2">在数据库中插入comment对象</td>
   </tr>
   <tr>
      <td >commentMapper.getHotelComments(Integer hotelId)</td>
      <td colspan="2">从数据库中获取指定对象hotel的所有单一持久化对象comment</td>
   </tr>
    <tr>
      <td >orderService.commentOrders(Integer orderId)</td>
      <td colspan="2">根据orderId将指定持久化对象order的orderState字段的值设为已评论</td>
   </tr>
    <tr>
      <td >hotelService.selectHotelRate(Integer hotelId)</td>
      <td colspan="2">根据hotelId获取指定持久化对象hotel的rate字段的值</td>
   </tr>
    <tr>
      <td >hotelService.updateHotelRate(Integer hotelId)</td>
      <td colspan="2">根据hotelId更新指定持久化对象hotel的rate字段的值</td>
   </tr>
</table>



##### AccountService接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">AccountService.registerAccount</td>
      <td>语法</td>
      <td>public ResponseVO registerAccount(UserVO userVO)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>用户未登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回注册结果</td>
   </tr>
   <tr>
      <td rowspan="3">AccountService.login</td>
      <td>语法</td>
      <td> public User login(UserForm userForm)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>用户未登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回供展示层使用的UserVO</td>
   </tr>
   <tr>
      <td rowspan="3">AccountService.getUserInfo</td>
      <td>语法</td>
      <td>public User getUserInfo(int id)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>用户已登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回供展示层使用的UserVO</td>
   </tr>
   <tr>
      <td rowspan="3">AccountService.updateUserInfo</td>
      <td>语法</td>
      <td>public ResponseVO updateUserInfo(int id, String password, String username, String phonenumber)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>用户修改了个人信息字段</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回修改结果</td>
   </tr>
   <tr>
      <td colspan="3">需要的服务(需接口）</td>
   </tr>
   <tr>
      <td>服务名</td>
      <td colspan="2">服务</td>
   </tr>
   <tr>
      <td >AccountMapper.createNewAccount(User user)</td>
      <td colspan="2">在数据库中插入User对象</td>
   </tr>
   <tr>
      <td>AccountMapper.getAccountByName(String email)</td>
      <td colspan="2">根据email查找单一持久化对象</td>
   </tr>
   <tr>
      <td>AccountMapper.getAccountById(int id)</td>
      <td colspan="2">根据id查找单一持久化对象</td>
   </tr>
   <tr>
      <td>AccountMapper.updateAccount(int id,String password,String username,String phonenumber)</td>
      <td colspan="2">更新单一持久化对象</td>
   </tr>
</table>



##### CouponService接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">CouponService.getMatchOrderCoupon</td>
      <td>语法</td>
      <td>public List<Coupon> getMatchOrderCoupon(OrderVO orderVO)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回订单可用优惠策略列表</td>
   </tr>
   <tr>
      <td rowspan="3">CouponService.getHotelAllCoupon</td>
      <td>语法</td>
      <td> public List<Coupon> getHotelAllCoupon(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回酒店优惠策略列表</td>
   </tr>
   <tr>
      <td rowspan="3">CouponService.addHotelTargetMoneyCoupon</td>
      <td>语法</td>
      <td>public CouponVO addHotelTargetMoneyCoupon(HotelTargetMoneyCouponVO couponVO)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回couponVO</td>
   </tr>
   <tr>
      <td rowspan="3">CouponService.addHotelTimeCoupon</td>
      <td>语法</td>
      <td>public CouponVO addHotelTimeCoupon(HotelTimeCouponVO couponVO)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回couponVO</td>
   </tr>
   <tr>
      <td rowspan="3">CouponService.addHotelMultiRoomCoupon</td>
      <td>语法</td>
      <td>public CouponVO addHotelMultiRoomCoupon(HotelMultiRoomCouponVO couponVO)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回couponVO</td>
   </tr>
    <tr>
      <td rowspan="3">CouponService.annulCoupon</td>
      <td>语法</td>
      <td>public ResponseVO annulCoupon(Integer ID)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回ResponseVO</td>
   </tr>
     <tr>
      <td rowspan="3">CouponService.getHotelOrderedCoupon</td>
      <td>语法</td>
      <td>public List<coupon></coupon> getHotelOrderedCoupon(Integer hotelID)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回List<coupon></td>
   </tr>
   <tr>
      <td colspan="3">需要的服务(需接口）</td>
   </tr>
   <tr>
      <td>服务名</td>
      <td colspan="2">服务</td>
   </tr>
   <tr>
      <td>CouponMatchStrategy.isMatch(OrderVO orderVO, Coupon coupon)</td>
      <td colspan="2">判断订单是否符合某一优惠策略条件</td>
   </tr>
   <tr>
      <td>CouponMapper.selectByHotelId(Integer hotelId)</td>
      <td colspan="2">根据hotelID查找单一持久化对象</td>
   </tr>
   <tr>
      <td>CouponMapper.insertCoupon(Coupon coupon)</td>
      <td colspan="2">在数据库中插入单一持久化对象coupon</td>
   </tr>
    <tr>
      <td>CouponMapper.annulCoupon(Integer id)</td>
      <td colspan="2">根据id查找单一持久化对象coupon并将其state字段的值设为0</td>
   </tr>
        <tr>
      <td>CouponMapper.deleteCancelled()</td>
      <td colspan="2">从数据库中删除所有state字段值为0的持久化对象coupon</td>
   </tr>
</table>





##### CouponMatchStrategy接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">isMatch</td>
      <td>语法</td>
      <td>boolean isMatch(OrderVO orderVO, Coupon coupon)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据订单是否符合某一优惠策略返回布尔值</td>
   </tr>
</table>


##### OrderService接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">OrderService.addOrder</td>
      <td>语法</td>
      <td>public ResponseVO addOrder(OrderVO orderVO)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>客户确认预订</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回预订结果</td>
   </tr>
   <tr>
      <td  rowspan="3">OrderService.getAllOrders</td>
      <td>语法</td>
      <td>public List<Order> getAllOrders()</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td></td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回所有订单</td>
   </tr>
   <tr>
      <td rowspan="3">OrderService.getUserOrders</td>
      <td>语法</td>
      <td> public List<Order> getUserOrders(int userid)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td></td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回指定id用户订单</td>
   </tr>
   <tr>
      <td rowspan="3">OrderService.annulOrder</td>
      <td>语法</td>
      <td>public ResponseVO annulOrder(int orderid)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>客户确认撤销订单</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回撤销结果</td>
   </tr>
   <tr>
      <td rowspan="3">OrderService.getHotelOrders</td>
      <td>语法</td>
      <td>public List<Order> getHotelOrders(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回指定id酒店所有订单</td>
   </tr>
     <tr>
      <td rowspan="3">OrderService.getUserThisHotelOrders</td>
      <td>语法</td>
      <td>public List<Order> getUserThisHotelOrders(int hotelId,int userId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回指定用户在指定酒店所有订单</td>
   </tr>
    <tr>
      <td rowspan="3">OrderService.getManageHotelsOrders</td>
      <td>语法</td>
      <td>public List<Order> getManageHotelOrders(int[] hotelIdList)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回管理员管理的所有酒店的订单</td>
   </tr>
   <tr>
      <td colspan="3">需要的服务(需接口）</td>
   </tr>
   <tr>
      <td>服务名</td>
      <td colspan="2">服务</td>
   </tr>
   <tr>
      <td>OrderMapper.addOrder(Order order)</td>
      <td colspan="2">在数据库中插入单一持久化对象order</td>
   </tr>
   <tr>
      <td>OrderMapper.getAllOrders()</td>
      <td colspan="2">返回一个包含所有Orders的列表</td>
   </tr>
   <tr>
      <td>OrderMapper.annulOrder(int id)</td>
      <td colspan="2">根据id删除单一持久化对象order</td>
   </tr>
    <tr>
      <td>OrderMapper.getUserOrders(int userid)</td>
      <td colspan="2">根据roomId查找所有指定的的持久化对象order</td>
   </tr>
    <tr>
      <td>OrderMapper.getUserThisHotelOrders(int hotelid,int userid)</td>
      <td colspan="2">根据roomId和hotelId查找所有指定的的持久化对象order</td>
   </tr>
    <tr>
      <td>OrderMapper.getOrderById(orderId)</td>
      <td colspan="2">根据orderId查找指定的的持久化对象order</td>
   </tr>
     <tr>
      <td>OrderMapper.getOrderById(orderId)</td>
      <td colspan="2">根据orderId查找指定的的持久化对象order</td>
   </tr>
     <tr>
      <td>OrderMapper.executeOrder(orderId)</td>
      <td colspan="2">根据orderId将指定的的持久化对象order的orderState字段的值设为已执行</td>
   </tr>
     <tr>
      <td>OrderMapper.commentOrder(orderId)</td>
      <td colspan="2">根据orderId将指定的的持久化对象order的orderState字段的值设为已评价</td>
   </tr>
</table>





##### HotelService接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">HotelService.addHotel</td>
      <td>语法</td>
      <td>public void addHotel(HotelVO hotelVO) throws ServiceException</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以酒店管理员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>新增酒店</td>
   </tr>
   <tr>
      <td rowspan="3">HotelService.updateRoomInfo</td>
      <td>语法</td>
      <td> public void updateRoomInfo(Integer hotelId, String roomType, Integer rooms)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新指定Id酒店客房信息</td>
   </tr>
   <tr>
      <td rowspan="3">HotelService.getRoomCurNum</td>
      <td>语法</td>
      <td>public int getRoomCurNum(Integer hotelId, String roomType)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回指定房型房间库存数量</td>
   </tr>
   <tr>
      <td rowspan="3">HotelService.retrieveHotels</td>
      <td>语法</td>
      <td>retrieveHotels()</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回包含所有酒店的酒店列表</td>
   </tr>
   <tr>
      <td rowspan="3">HotelService.retrieveHotelDetails</td>
      <td>语法</td>
      <td>public HotelVO retrieveHotelDetails(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回指定酒店的HotelVO对象</td>
   </tr>
   <tr>
      <tr>
      <td rowspan="3">HotelService.updateHotelInfo</td>
      <td>语法</td>
      <td>public void updatehotelInfo(HotelVO hotelVO)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新指定酒店的信息</td>
   </tr>
   <tr>
      <td rowspan="3">HotelService.deleteHotel</td>
      <td>语法</td>
      <td>public void deletehotel(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>删除指定酒店</td>
   </tr>
    <tr>
      <td rowspan="3">HotelService.updateHotelRate</td>
      <td>语法</td>
      <td>public void updateHotelRate(Integer hotelId,double rate)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新指定酒店评分</td>
   </tr>
    <tr>
      <td rowspan="3">HotelService.selectHotel</td>
      <td>语法</td>
      <td>public Double selectHotelRate(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回指定酒店的评分</td>
   </tr>
   <tr>
      <td colspan="3">需要的服务(需接口）</td>
   </tr>
   <tr>
      <td>服务名</td>
      <td colspan="2">服务</td>
   </tr>
   <tr>
      <td>HotelMapper.insertHotel(Hotel hotel)</td>
      <td colspan="2">插入单一持久化对象hotel</td>
   </tr>
   <tr>
      <td>RoomService.updateRoomInfo(Integer roomId, Integer curNum)</td>
      <td colspan="2">更新单一持久化对象</td>
   </tr>
   <tr>
      <td>RoomService.getRoomCurNum(Integer roomId)</td>
      <td colspan="2">查询单一持久化对象room单一字段curNum的值</td>
   </tr>
    <tr>
      <td>RoomService.retrieveHotelRoomInfo(Integer hotelId)</td>
      <td colspan="2">根据hotelId查找所有指定持久化对象room</td>
   </tr>
   <tr>
      <td>HotelMapper.selectAllHotel()</td>
      <td colspan="2">查询数据库Hotel表中所有持久化对象</td>
   </tr>
    <tr>
      <td>accountService.getUserInfo(Integer id)</td>
      <td colspan="2">根据id获取持久化对象user</td>
   </tr>
   <tr>
      <td>HotelMapper.selectById(Integer hotelId)</td>
      <td colspan="2">根据ID进行查找单一持久化对象hotel</td>
   </tr>
    <tr>
      <td>HotelMapper.updateHotelInfo(Hotel hotel)</td>
      <td colspan="2">根据ID更新单一持久化对象hotel</td>
   </tr>
     <tr>
      <td>HotelMapper.deleteHotel(Integer id)</td>
      <td colspan="2">根据ID删除单一持久化对象hotel</td>
   </tr>
     <tr>
      <td>HotelMapper.selectHotelsByManagerId(Integer id)</td>
      <td colspan="2">根据manageId查找管理员管理的所有持久化对象hotel</td>
   </tr>
    <tr>
      <td>HotelMapper.selectHotelRate(Integer id)</td>
      <td colspan="2">根据id获取指定持久化对象hotel的rate字段的值</td>
   </tr>
    <tr>
      <td>HotelMapper.updateHotelRate(Integer id，Double rate)</td>
      <td colspan="2">根据id更新指定持久化对象hotel的rate字段的值</td>
   </tr>
</table>





##### RoomService接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">RoomService.retrieveHotelRoomInfo</td>
      <td>语法</td>
      <td>public List<HotelRoom> retrieveHotelRoomInfo(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回酒店房型列表</td>
   </tr>
   <tr>
      <td rowspan="3">RoomService.insertRoomInfo</td>
      <td>语法</td>
      <td>public void insertRoomInfo(HotelRoom hotelRoom) </td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>新增房型</td>
   </tr>
   <tr>
      <td rowspan="3">RoomService.updateRoomInfo</td>
      <td>语法</td>
      <td>public void updateRoomInfo(Integer roomId, Integer rooms)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>更新指定Id酒店客房信息</td>
   </tr>
   <tr>
      <td rowspan="3">RoomService.getRoomCurNum</td>
      <td>语法</td>
      <td>public int getRoomCurNum(Integer roomId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回指定房型房间库存数量</td>
   </tr>
    <tr>
      <td rowspan="3">RoomService.editRoomInfo</td>
      <td>语法</td>
      <td>public void editRoomInfo(HotelRoom hotelRoom)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>修改指定房型信息</td>
   </tr>
    <tr>
      <td rowspan="3">RoomService.deleteRoom</td>
      <td>语法</td>
      <td>public void delete(Integer roomId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>删除指定房型信息</td>
   </tr>
   <tr>
      <td colspan="3">需要的服务(需接口）</td>
   </tr>
   <tr>
      <td>服务名</td>
      <td colspan="2">服务</td>
   </tr>
   <tr>
      <td>RoomMapper.selectRoomsByHotelId(Integer hotelId)</td>
      <td colspan="2">根据酒店ID查找酒店所有持久化对象hotelRoom</td>
   </tr>
   <tr>
      <td>RoomMapper.insertRoom(HotelRoom hotelRoom)</td>
      <td colspan="2">插入单一持久化对象hotelRoom</td>
   </tr>
   <tr>
      <td>RoomMapper.updateRoomInfo(Integer roomId, Integer curNum)</td>
      <td colspan="2">更新单一持久化对象room单一字段curNum的值</td>
   </tr>
   <tr>
      <td>RoomMapper.getRoomCurNum(Integer roomId)</td>
      <td colspan="2">查询单一持久化对象room单一字段curNum的值</td>
   </tr>
     <tr>
      <td>RoomMapper.editRoomInfo(HotelRoom hotelroom)</td>
      <td colspan="2">修改单一持久化对象room的值</td>
   </tr>
    <tr>
      <td>RoomMapper.deleteRoom(Integer roomId)</td>
      <td colspan="2">删除单一持久化对象room</td>
   </tr>
</table>





##### AdminService接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">AdminService.addManager</td>
      <td>语法</td>
      <td>public ResponseVO addManager(UserForm userForm)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以网站管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回添加酒店管理人员结果</td>
   </tr>
   <tr>
      <td rowspan="3">AdminService.getAllManagers</td>
      <td>语法</td>
      <td>public List<User> getAllManagers()</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>以网站管理人员身份登录</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>返回酒店管理人员列表</td>
   </tr>
   <tr>
      <td colspan="3">需要的服务(需接口）</td>
   </tr>
   <tr>
      <td>服务名</td>
      <td colspan="2">服务</td>
   </tr>
   <tr>
      <td>AdminMapper.addManager(user)</td>
      <td colspan="2">插入单一持久化对象user</td>
   </tr>
   <tr>
      <td>AdminMapper.getAllManagers()</td>
      <td colspan="2">查找数据库User表中所有Usertype值为"HotelManager"的持久化对象</td>
   </tr>
</table>



### 5.4 数据层分解

数据层主要给业务逻辑层提供数据访问服务，包括对于持久化数据的增删改查。

#### 5.4.1 职责

| 模块          | 职责                                                         |
| ------------- | ------------------------------------------------------------ |
| CommentMapper | 持久化comment对象的接口，提供增查服务                        |
| RoomMapper    | 持久化hotelRoom对象的接口，提供增删改查服务                  |
| HotelMapper   | 持久化Hotel对象的接口，提供增删改查服务                      |
| AdminMapper   | 持久化userType为"HotelManager"的User对象的接口，提供增查服务 |
| CouponMapper  | 持久化Coupon对象的接口,提供增删查服务                        |
| OrderMapper   | 持久化Order对象的接口，提供增删查服务                        |
| AccountMapper | 持久化userType为“client"的User对象的接口，提供增改查服务     |



- ##### 类图

  ![DAOclass](https://software-181870027.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86/DAOclass.png)
  =======

#### 5.4.2 接口规范

##### CommentMapper接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">commentMapper.addcomment</td>
      <td>语法</td>
      <td>int addcomment(Comment comment)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>插入单一持久化对象comment</td>
   </tr>
   <tr>
      <td rowspan="3">commentMapper.getHotelComments</td>
      <td>语法</td>
      <td>List<Comment> getHotelComments(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据hotelId查找指定hotel的所有持久化对象comment</td>
   </tr>
    <table>
      <td rowspan="3">commentMapper.getHotelCommentsNums</td>
      <td>语法</td>
      <td>Integer getHotelCommentsNums(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据hotelId获取指定hotel的持久化对象comment的总数</td>
   </tr>
</table>
</table>

##### RoomMapper接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">RoomMapper.updateRoomInfo</td>
      <td>语法</td>
      <td>int updateRoomInfo(Integer roomId,Integer curNum)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据roomId更新持久化对象hotelRoom的curNum字段的值</td>
   </tr>
   <tr>
      <td rowspan="3">RoomMapper.insertRoom</td>
      <td>语法</td>
      <td>int insertRoom(HotelRoom hotelRoom)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>插入单一持久化对象hotelRoom</td>
   </tr>
   <tr>
      <td rowspan="3">RoomMapper.selectRoomsByHotelId</td>
      <td>语法</td>
      <td>List<HotelRoom> selectRoomsByHotelId(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据hotelId查找指定hotel的所有持久化对象hotelRoom</td>
   </tr>
   <tr>
      <td rowspan="3">RoomMapper.getRoomCurNum</td>
      <td>语法</td>
      <td>int getRoomCurNum(Integer roomId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据roomId获取持久化对象hotelRoom的curNum字段的值</td>
   </tr>
   <tr>
      <td rowspan="3">RoomMapper.editRoomInfo</td>
      <td>语法</td>
      <td>int editRoomInfo(HotelRoom hotelRoom)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据roomId更新指定持久化对象hotelRoom的信息</td>
   </tr>
    <tr>
      <td rowspan="3">RoomMapper.deleteRoom</td>
      <td>语法</td>
      <td>int deleteRoom(Integer roomId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据roomId删除指定持久化对象hotelRoom</td>
   </tr>
</table>




##### HotelMapper接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">HotelMapper.insertHotel</td>
      <td>语法</td>
      <td>int insertHotel(Hotel hotel)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>插入单一持久化对象hotel</td>
   </tr>
   <tr>
      <td rowspan="3">HotelMapper.selectAllHotel</td>
      <td>语法</td>
      <td>List<HotelVO> selectAllHotel()</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>查询所有持久化对象hotel</td>
   </tr>
   <tr>
      <td rowspan="3">HotelMapper.selectById</td>
      <td>语法</td>
      <td>HotelVO selectById(\Integer id)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据酒店ID查找单一持久化对象hotel</td>
   </tr>
    <tr>
      <td rowspan="3">HotelMapper.updateHotelInfo</td>
      <td>语法</td>
      <td>int updateHotelInfo(Hotel hotel)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据酒店ID更新指定持久化对象hotel的信息</td>
   </tr>
    <tr>
      <td rowspan="3">HotelMapper.deleteHotel</td>
      <td>语法</td>
      <td>int deleteHotel(Integer id)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据酒店ID删除指定持久化对象hotel</td>
   </tr>
    <tr>
      <td rowspan="3">HotelMapper.selectHotelsByManagerId</td>
      <td>语法</td>
      <td>List<HotelVO> selectHotelsByManagerId(Integer id)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据管理员id查找其管理的所有持久化对象hotel</td>
   </tr>
    <tr>
      <td rowspan="3">HotelMapper.selectHotelRate</td>
      <td>语法</td>
      <td>Double selectHotelRate(Integer id)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据酒店ID返回单一持久化对象hotel的rate字段的值</td>
   </tr>
    <tr>
      <td rowspan="3">HotelMapper.updateHotelRate</td>
      <td>语法</td>
      <td>int updateHotelRate(Integer id,double rate)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据酒店ID跟新持久化对象hotel的rate字段的值</td>
   </tr>
</table>




##### CouponMapper接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3"> CouponMapper.insertCoupon</td>
      <td>语法</td>
      <td>int insertCoupon(Coupon coupon)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>插入单一持久化对象coupon</td>
   </tr>
   <tr>
      <td rowspan="3">CouponMapper.selectByHotelId</td>
      <td>语法</td>
      <td>List<Coupon> selectByHotelId(Integer hotelId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据hotelId查找指定酒店的所有持久化对象coupon</td>
   </tr>
     <tr>
      <td rowspan="3">CouponMapper.annulCoupon</td>
      <td>语法</td>
      <td><Coupon> annulCoupon(Integer Id)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据Id将指定持久化对象coupon的state字段的值设为0</td>
   </tr>
     <tr>
      <td rowspan="3">CouponMapper.deleteCancelled</td>
      <td>语法</td>
      <td><Coupon> deleteCancelled()</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>删除不可用的优惠策略</td>
   </tr>
    <tr>
      <td rowspan="3">CouponMapper.selectByCouponId</td>
      <td>语法</td>
      <td>coupon<Coupon> selectByCouponId(Integer couponId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据couponId查找指定优惠券的所有持久化对象coupon</td>
   </tr>
</table>




##### OrderMapper接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">OrderMapper.addOrder</td>
      <td>语法</td>
      <td>int addOrder(Order order)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>插入单一持久化对象order</td>
   </tr>
   <tr>
      <td rowspan="3">OrderMapper.getAllOrders</td>
      <td>语法</td>
      <td>List<Order> getAllOrders()</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>查找所有持久化对象order</td>
   </tr>
   <tr>
      <td rowspan="3">OrderMapper.getUserOrders</td>
      <td>语法</td>
      <td>List<Order> getUserOrders(int userid)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据userid查找指定用户的所有持久化对象order</td>
   </tr>
   <tr>
      <td rowspan="3">OrderMapper.annulOrder</td>
      <td>语法</td>
      <td> int annulOrder(int orderid)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据orderid删除指定单一持久化对象order</td>
   </tr>
   <tr>
      <td rowspan="3">OrderMapper.getOrderById</td>
      <td>语法</td>
      <td>Order getOrderById(int orderid)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据orderid查找指定单一持久化对象order</td>
   </tr>
     <tr>
      <td rowspan="3">OrderMapper.getUserThisHotelOrders</td>
      <td>语法</td>
      <td>List getUserThisHotelOrders(int hotelId,int userId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据hotelId和UserId查找所有持久化对象order</td>
   </tr>
    <tr>
      <td rowspan="3">OrderMapper.executeOrder</td>
      <td>语法</td>
      <td>int executeOrder(int orderId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>对应订单的状态为已预订</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据orderId将持久化对象order的Orderstate字段标为已执行</td>
   </tr>
    <tr>
      <td rowspan="3">OrderMapper.commentOrder</td>
      <td>语法</td>
      <td>int commentOrder(int orderId)</td>
   </tr>
   <tr>
      <td>前置条件</td>
      <td>对应订单的状态为已执行</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>根据orderId将持久化对象order的Orderstate字段标为已评价</td>
   </tr>
</table>





##### AdminMapper接口规范

<table>
   <tr>
      <td colspan="3">提供的服务（供接口）</td>
   </tr>
   <tr>
      <td rowspan="3">AdminMapper.addManager</td>
      <td>语法</td>
      <td>int addManager(User user)</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>插入userType字段值为"HotelManager"的单一持久化对象user</td>
   </tr>
   <tr>
      <td rowspan="3">getAllManagers</td>
      <td>语法</td>
      <td>List<User> getAllManagers()</td>
   </tr>
   <tr>
      <td>前置条件</td>
   </tr>
   <tr>
      <td>后置条件</td>
      <td>查找所有userType字段值为"HotelManager"的持久化对象user</td>
   </tr>
</table>


## 6. 信息视角

- ##### Comment类

  Comment类包含评论id、用户id、被评论酒店id、订单id、创建时间、评论内容、评分、用户昵称。定义如下:

  ```
  public class Comment {
      private Integer id;
      private Integer userId;
      private Integer hotelId;
      private Integer orderId;
      private String createDate;
      private String commentContent;
      private Double rate;
      private String userName;
  
      public Integer getId() {
          return id;
      }
  
      public Integer getUserId() {
          return userId;
      }
  
      public Integer getHotelId() {
          return hotelId;
      }
  
      public Integer getOrderId() {
          return orderId;
      }
  
      public String getCreateDate() {
          return createDate;
      }
  
      public String getCommentContent() {
          return commentContent;
      }
  
      public Double getRate() {
          return rate;
      }
  
      public String getUserName() {
          return userName;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public void setUserId(Integer userId) {
          this.userId = userId;
      }
  
      public void setHotelId(Integer hotelId) {
          this.hotelId = hotelId;
      }
  
      public void setOrderId(Integer orderId) {
          this.orderId = orderId;
      }
  
      public void setCreateDate(String createDate) {
          this.createDate = createDate;
      }
  
      public void setCommentContent(String commentContent) {
          this.commentContent = commentContent;
      }
  
      public void setRate(Double rate) {
          this.rate = rate;
      }
  
      public void setUserName(String userName){
          this.userName = userName;
      }
  }
  ```

  ##### 类型:

     1.id:Integer

     2.userId:Integer

     3.hotelId:Integer

     4.orderId:Integer

     5.createDate:String

     6.commentContent:String

     7.rate:Double

     8.userName:String

- ##### Coupon类

  Coupon类包含优惠券id、优惠券描述、优惠券所属酒店id、优惠券类型、优惠券名称、优惠券使用金额门槛、折扣、优惠券金额、优惠券可用时间、优惠券失效时间、优惠券使用房间数门槛、优惠券状态属性。定义如下:

  ```
  public class Coupon {
      /**
       * 优惠券id
       */
      private int id;
      /**
       * 优惠券描述
       */
      private String description;
  
      /**
       * 如果为-1 代表是网站推出的优惠
       */
      private Integer hotelId;
  
      /**
       * 优惠券类型 1生日特惠 2多间特惠 3满减优惠 4限时优惠
       */
      private Integer couponType;
      /**
       * 优惠券名称
       */
      private String couponName;
      /**
       * 优惠券使用门槛
       */
      private double targetMoney;
  
      /**
       * 折扣
       */
      private double discount;
      /**
       * 优惠券优惠金额
       */
      private double discountMoney;
      /**
       * 可用时间
       */
      private LocalDateTime startTime;
      /**
       * 失效时间
       */
      private LocalDateTime endTime;
  
      /**
       * 优惠券状态 是否已经失效 1可用 0失效
       */
      private Integer status;
  
      public LocalDateTime getStartTime() {
          return startTime;
      }
  
      public void setStartTime(LocalDateTime startTime) {
          this.startTime = startTime;
      }
  
      public LocalDateTime getEndTime() {
          return endTime;
      }
  
      public void setEndTime(LocalDateTime endTime) {
          this.endTime = endTime;
      }
  
      public int getId() {
          return id;
      }
  
      public void setId(int id) {
          this.id = id;
      }
  
      public String getDescription() {
          return description;
      }
  
      public void setDescription(String description) {
          this.description = description;
      }
  
      public String getCouponName() {
          return couponName;
      }
  
      public void setCouponName(String couponName) {
          this.couponName = couponName;
      }
  
      public double getTargetMoney() {
          return targetMoney;
      }
  
      public void setTargetMoney(double targetMoney) {
          this.targetMoney = targetMoney;
      }
  
      public double getDiscountMoney() {
          return discountMoney;
      }
  
      public void setDiscountMoney(double discountMoney) {
          this.discountMoney = discountMoney;
      }
  
      public Integer getHotelId() {
          return hotelId;
      }
  
      public void setHotelId(Integer hotelId) {
          this.hotelId = hotelId;
      }
  
      public Integer getCouponType() {
          return couponType;
      }
  
      public void setCouponType(Integer couponType) {
          this.couponType = couponType;
      }
  
      public Integer getStatus() {
          return status;
      }
  
      public void setStatus(Integer status) {
          this.status = status;
      }
  
      public double getDiscount() {
          return discount;
      }
  
      public void setDiscount(double discount) {
          this.discount = discount;
      }
      
      public Integer getTarget_roomNum() {
          return target_roomNum;
      }
  
      public void setTarget_roomNum(Integer target_roomNum) {
          this.target_roomNum = target_roomNum;
      }
  
      public Coupon() {
      }
  }
  ```

  ##### 类型:

  1. id:int
  2. description:string
  3. hotelId:Integer
  4. couponType:Integer
  5. couponName:String
  6. targetMoney:double
  7. discount:double
  8. discountMoney:double
  9. startTime:LocalDateTime
  10. endTime:LocalDateTime
  11. target_roomNum:Integer
  12. status:Integer

- ##### Hotel类

  Hotel类包含酒店的id、名字、地址、商圈、星级、价格、描述、联系电话、酒店管理员id。定义如下

  ```
  public class Hotel {
      private Integer id;
      private String hotelName;
      private String address;
      /**
       * 商圈
       */
      private BizRegion bizRegion;
      private HotelStar hotelStar;
      private Double rate;
      private String description;
      private String phoneNum;
      /**
       * 酒店管理员id
       */
      private Integer managerId;
  
      public Integer getId() {
          return id;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public String getHotelName() {
          return hotelName;
      }
  
      public void setHotelName(String hotelName) {
          this.hotelName = hotelName;
      }
  
      public String getAddress() {
          return address;
      }
  
      public void setAddress(String address) {
          this.address = address;
      }
  
      public BizRegion getBizRegion() {
          return bizRegion;
      }
  
      public void setBizRegion(BizRegion bizRegion) {
          this.bizRegion = bizRegion;
      }
  
      public HotelStar getHotelStar() {
          return hotelStar;
      }
  
      public void setHotelStar(HotelStar hotelStar) {
          this.hotelStar = hotelStar;
      }
  
      public Double getRate() {
          return rate;
      }
  
      public void setRate(Double rate) {
          this.rate = rate;
      }
  
      public String getDescription() {
          return description;
      }
  
      public void setDescription(String description) {
          this.description = description;
      }
  
      public String getPhoneNum() {
          return phoneNum;
      }
  
      public void setPhoneNum(String phoneNum) {
          this.phoneNum = phoneNum;
      }
  
      public Integer getManagerId() {
          return managerId;
      }
  
      public void setManagerId(Integer managerId) {
          this.managerId = managerId;
      }
  }
  ```

  ##### 类型：

  1. id:Integer
  2. hotelName:String
  3. address:String
  4. bizRegion:enums.BizRegion
  5. hotelStar:enums.HotelStar
  6. rate:Double
  7. description:String
  8. phoneNum:String
  9. managerId:Integer

- ##### HotelRoom类

  HotelRoom包含房间的id、房间类型、所属酒店id、价格、当前剩余可预订房间数、房间总数、细节属性。定义如下

  ```
  public class HotelRoom {
      private Integer id;
      private RoomType roomType;
      private Integer hotelId;
      private double price;
      /**
       * 当前剩余可预定房间数
       */
      private int curNum;
      /**
       * 某类型房间总数
       */
      private int total;
      private String detail;
  
      public Integer getId() {
          return id;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public RoomType getRoomType() {
          return roomType;
      }
  
      public void setRoomType(RoomType roomType) {
          this.roomType = roomType;
      }
  
      public Integer getHotelId() {
          return hotelId;
      }
  
      public void setHotelId(Integer hotelId) {
          this.hotelId = hotelId;
      }
  
      public double getPrice() {
          return price;
      }
  
      public void setPrice(double price) {
          this.price = price;
      }
  
      public int getCurNum() {
          return curNum;
      }
  
      public void setCurNum(int curNum) {
          this.curNum = curNum;
      }
  
      public int getTotal() {
          return total;
      }
  
      public void setTotal(int total) {
          this.total = total;
      }
  
      public String getDetail() {
          return detail;
      }
  
      public void setDetail(String detail) {
          this.detail = detail;
      }
  }
  ```

  ##### 类型：

  1. id:Integer
  2. roomType:enums.RoomType
  3. hotelId:Integer
  4. price:double
  5. curNum:int
  6. total:int
  7. detail:String

- ##### Order类

  Order类包含订单的id、客户id、酒店id、酒店名、入住日期、退房日期、房间类型、房间id、房间数量、客人数量、是否有儿童入住标识、创建日期、价格、客户姓名、客户手机号码、订单状态属性。定义如下

  ```
  public class Order {
      private Integer id;
      private Integer userId;
      private Integer hotelId;
      private String hotelName;
      private String checkInDate;
      private String checkOutDate;
      private String roomType;
      private Integer roomId;
      private Integer roomNum;
      private Integer peopleNum;
      private boolean haveChild;
      private String createDate;
      private Double price;
      private String clientName;
      private String phoneNumber;
      private String orderState;
  
      public Integer getId() {
          return id;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public Integer getUserId() {
          return userId;
      }
  
      public void setUserId(Integer userId) {
          this.userId = userId;
      }
  
      public Integer getHotelId() {
          return hotelId;
      }
  
      public void setHotelId(Integer hotelId) {
          this.hotelId = hotelId;
      }
  
      public String getCheckInDate() {
          return checkInDate;
      }
  
      public void setCheckInDate(String checkInDate) {
          this.checkInDate = checkInDate;
      }
  
      public String getCheckOutDate() {
          return checkOutDate;
      }
  
      public void setCheckOutDate(String checkOutDate) {
          this.checkOutDate = checkOutDate;
      }
  
      public String getRoomType() {
          return roomType;
      }
  
      public void setRoomType(String roomType) {
          this.roomType = roomType;
      }
  
      public Integer getRoomNum() {
          return roomNum;
      }
  
      public void setRoomNum(Integer roomNum) {
          this.roomNum = roomNum;
      }
  
      public Integer getPeopleNum() {
          return peopleNum;
      }
  
      public void setPeopleNum(Integer peopleNum) {
          this.peopleNum = peopleNum;
      }
  
      public boolean isHaveChild() {
          return haveChild;
      }
  
      public void setHaveChild(boolean haveChild) {
          this.haveChild = haveChild;
      }
  
      public String getCreateDate() {
          return createDate;
      }
  
      public void setCreateDate(String createDate) {
          this.createDate = createDate;
      }
  
      public Double getPrice() {
          return price;
      }
  
      public void setPrice(Double price) {
          this.price = price;
      }
  
      public String getHotelName() {
          return hotelName;
      }
  
      public void setHotelName(String hotelName) {
          this.hotelName = hotelName;
      }
  
      public String getClientName() {
          return clientName;
      }
  
      public void setClientName(String clientName) {
          this.clientName = clientName;
      }
  
      public String getPhoneNumber() {
          return phoneNumber;
      }
  
      public void setPhoneNumber(String phoneNumber) {
          this.phoneNumber = phoneNumber;
      }
  
      public String getOrderState() {
          return orderState;
      }
  
      public void setOrderState(String orderState) {
          this.orderState = orderState;
      }
  
      public void setRoomId(Integer roomId) {
          this.roomId = roomId;
      }
  
      public Integer getRoomId() {
          return roomId;
      }
  }
  ```

  ##### 类型：

  1. id:Integer
  2. userId:Integer
  3. hotelId:Integer
  4. hotelName:String
  5. checkInDate:String
  6. checkOutDate:String
  7. roomType:String
  8. roomId:Integer
  9. roomNum:Integer
  10. peopleNum:Integer
  11. haveChile:boolean
  12. createDate:String
  13. price:Double
  14. clientName:String
  15. phoneNumber:String
  16. orderState:String

- ##### User类

  User类包含用户id、邮箱、密码、用户名、手机号码、信用值、用户类型属性。定义如下

  ```
  public class User {
      private Integer id;
      private String email;
      private String password;
      private String userName;
      private String phoneNumber;
      private double credit;
      private UserType userType;
  
      public Integer getId() {
          return id;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public String getUserName() {
          return userName;
      }
  
      public void setUserName(String userName) {
          this.userName = userName;
      }
  
      public String getPhoneNumber() {
          return phoneNumber;
      }
  
      public void setPhoneNumber(String phoneNumber) {
          this.phoneNumber = phoneNumber;
      }
  
      public double getCredit() {
          return credit;
      }
  
      public void setCredit(double credit) {
          this.credit = credit;
      }
  
      public String getEmail() {
          return email;
      }
  
      public void setEmail(String email) {
          this.email = email;
      }
  
      public String getPassword() {
          return password;
      }
  
      public void setPassword(String password) {
          this.password = password;
      }
  
      public UserType getUserType() {
          return userType;
      }
  
      public void setUserType(UserType userType) {
          this.userType = userType;
      }
  }
  ```

  ##### 类型:

  1. id:Integer
  2. email:String
  3. password:String
  4. userName:String
  5. phoneNumber:String
  6. credit:double
  7. userType:enums.UserType